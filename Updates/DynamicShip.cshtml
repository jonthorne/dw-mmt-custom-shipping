@inherits Dynamicweb.Rendering.RazorTemplateBase<Dynamicweb.Rendering.RazorTemplateModel<Dynamicweb.Rendering.Template>>
@using System.Linq
@using Dynamicweb.Ecommerce.International
@{
	var ShippingServices = GetLoop("ShippingServices");
}
@if (ShippingServices.Any())
{
	foreach (LoopItem service in ShippingServices)
	{
		string priceFormatted = !string.IsNullOrEmpty(service.GetString("ServicePrice.PriceFormatted")) ? service.GetString("ServicePrice.PriceFormatted") : Translate("Not specified");
		string radioName = string.Format("{0}{1}", GetString("FieldPrefix"), "ShipmondoCarrierProductCode");
		string radioId = string.Format("{0}{1}", radioName, service.GetString("ServiceProductCode"));
		string radioValue = service.GetString("ServiceProductCode");
		if (ShippingServices.Count > 0)
		{
			<label class="list-group-item list-group-item-action@(service.GetBoolean("IsSelectedCarrier") ? " active" : string.Empty)" @(service.GetBoolean("IsSelectedCarrier") ? "aria-current=\"true\"" : string.Empty) for="@radioId" role="button">
				<dl class="d-flex gap-2 justify-content-between mb-0">
					<dt class="form-check fw-normal">
						<input @(service.GetBoolean("IsSelectedCarrier") ? "checked" : string.Empty) class="form-check-input" type="radio" required name="@radioName" id="@radioId" value="@radioValue" onChange="submitForm()">
						<div class="d-flex flex-column">
							<span class="form-check-label">@(service.GetString("ServiceCarrierName"))@(" - " + service.GetString("ServiceDescription"))</span>
							@if (!string.IsNullOrEmpty(service.GetString("DeliveryTime")))
							{
								<span class="opacity-75 fs-8">@Translate("Delivery within ")@service.GetString("DeliveryTime")</span>
							}
						</div>
					</dt>
					<dd class="mb-0 text-end">
						<span class="text-price">@priceFormatted</span>
					</dd>
				</dl>
			</label>
		}
	}
}
